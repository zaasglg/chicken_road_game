# Chicken Road - WebSocket Server

## Запуск WebSocket сервера

Игра теперь использует только `server.js` как единственный WebSocket сервер для генерации ловушек.

### Установка зависимостей

```bash
npm install
```

### Запуск сервера

```bash
node server.js
```

Сервер будет доступен на: `ws://localhost:8080/ws/`

## Особенности

- **Единственный источник ловушек**: Игра получает все ловушки только от WebSocket сервера
- **Никаких локальных генераций**: Удалены все fallback к локальной генерации ловушек
- **Умное управление**: Сервер не обновляет ловушки во время активных игр
- **Автоматическое обновление**: Ловушки обновляются каждые 30 секунд
- **Seeded random**: Детерминированная генерация на основе seed

## Логика работы

1. **При подключении клиента**: Сервер отправляет ловушки для всех уровней
2. **При начале игры**: Клиент уведомляет сервер о начале игры
3. **Во время игры**: Сервер не обновляет ловушки (есть активные игры)
4. **При окончании игры**: Клиент уведомляет сервер об окончании игры
5. **Автоматическое обновление**: Каждые 30 секунд сервер генерирует новые ловушки

## Коэффициенты по уровням

- **Easy**: 1.03 - 1.63x
- **Medium**: 1.12 - 4.96x  
- **Hard**: 1.23 - 15.21x
- **Hardcore**: 1.63 - 890.19x

## Важно

- Игра **НЕ РАБОТАЕТ** без запущенного WebSocket сервера
- Все ловушки и коэффициенты генерируются только на сервере
- Локальная генерация полностью отключена
